Относительный порядок элементов сохраняется за счёт последовательного движения `ptr`:

```python
ptr_even, ptr = 0, 0

    while ptr < len(array):
        if array[ptr] % 2 == 0:
            array[ptr_even], array[ptr] = array[ptr], array[ptr_even]
            ptr_even += 1
        ptr += 1
```

Действительно, `ptr` при своём движении вперёд встречает чётное число и отправляет его в начало, после всех ранее встреченных чётных чисел. `ptr_even` в свою очередь поддерживает инвариант, что до него не останется нечётных чисел.